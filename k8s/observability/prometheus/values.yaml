promgrafana:
  adminPassword: ${adminPassword}

  ingress:
    enabled: true
    ingressClassName: alb
    annotations:
      alb.ingress.kubernetes.io/listen-ports: '[{"HTTP":80}]'
      alb.ingress.kubernetes.io/scheme: internet-facing
      alb.ingress.kubernetes.io/target-type: ip
      alb.ingress.kubernetes.io/healthcheck-path: /api/health
    hosts:
      - grafana.local

  additionalDataSources:
    - name: Loki
      type: loki
      isDefault: false
      editable: true
      access: proxy
      url: http://loki:3100
      jsonData:
        timeout: 60
        maxLines: 1000
      version: 1
    - name: Prometheus
      type: prometheus
      isDefault: false
      editable: true
      access: proxy
      url: http://${mimir}-nginx.${namespace}.svc:80/prometheus
      jsonData:
        timeout: 60
        maxLines: 1000
      version: 1

prometheus:
  prometheusSpec:
    remoteWrite:
      - url: http://${mimir}-nginx.${namespace}.svc:80/api/v1/push
    externalLabels:
      environment: mimir
    nodeSelector: {}
    affinity: {}

alertmanager:
  enabled: true

